(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{176:function(e,t,r){"use strict";var c=r(45),s=r(0);t.a=function(){var e=Object(s.useState)({status:!1,errorText:void 0}),t=Object(c.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)(""),i=Object(c.a)(n,2),j=(i[0],i[1]),l=Object(s.useState)(""),o=Object(c.a)(l,2),d=o[0],u=o[1];return Object(s.useEffect)((function(){!0===r.status&&setTimeout((function(){a({status:!1,errorText:void 0})}),1500)}),[r.status]),{imageError:r,setImageFilename:j,setImageError:a,imageChangeHandler:function(e){var t=e.target.files[0];if(void 0!==t){var r=new FileReader(t);r.addEventListener("load",(function(){["image/png","image/jpeg"].includes(t.type)?t.size>4e6?a({status:!0,errorText:"Image size should not be more than 4mb"}):(a({status:!1,errorText:void 0}),u(r.result),j(t.name)):a({status:!0,errorText:"Only images should be uploaded"})})),r.readAsDataURL(t)}else u(""),j("")},imageSrc:d,setImageSrc:u}}},204:function(e,t,r){"use strict";r.r(t);var c=r(83),s=r(108),a=r(0),n=r(45),i=r(102),j=r(68),l=r(32),o=r(103),d=r(107),u=r(95),b=r(169),p=r(29),O=r(10),h=r(176),x=r(62),m=r(12),f=r(31),g=r(4);var v=function(){var e=Object(p.b)(),t=Object(O.g)(),r=Object(h.a)(),s=r.imageError,v=r.imageChangeHandler,w=r.imageSrc,S=r.setImageSrc,y=Object(p.c)((function(e){return e.user.userName})),I=Object(p.c)((function(e){return e.user})),C=I.userProfileImage,P=I.userFullName,F=I.bio,R=Object(a.useState)(""),z=Object(n.a)(R,2),E=z[0],T=z[1],L=Object(a.useState)(""),q=Object(n.a)(L,2),N=q[0],k=q[1],D=Object(a.useState)(""),_=Object(n.a)(D,2),A=_[0],Y=_[1];return Object(a.useEffect)((function(){e(m.a.setPageLoading({isPageLoading:!0})),e(Object(x.e)())}),[]),Object(a.useEffect)((function(){if(P&&""!==P){for(var t=P.split(" "),r=t[0],c="",s=1;s<t.length;s++)c+=t[s];T(r),k(c)}F&&Y(F),C&&S(C),e(m.a.setPageLoading({isPageLoading:!1}))}),[P,F,C]),Object(g.jsx)(c.a,{border:{base:"1px solid",lg:"1px solid #ccc"},borderRadius:"12px",children:Object(g.jsxs)("form",{style:{padding:"0px 32px"},encType:"multipart/form-data",onSubmit:function(r){r.preventDefault();var c=new FormData;""!==E&&""!==N&&""!==A?(c.append("name",E+" "+N),c.append("bio",A),""!==w&&c.append("profileImage",r.target.profileImage.files[0]),e(Object(x.f)(c)).then((function(){t.replace("/profile/"+y)}))):Object(f.a)(e,{success:!1,msg:"Please fill all the textfields"})},children:[Object(g.jsxs)(c.a,{paddingY:"12px",children:[Object(g.jsx)(i.b,{htmlFor:"profile-picture-upload",children:"Set a profile picture"}),Object(g.jsx)("input",{type:"file",id:"profile-picture-upload",hidden:!0,onChange:v,accept:"image/png image/jpg",name:"profileImage"}),Object(g.jsx)("label",{htmlFor:"profile-picture-upload",children:Object(g.jsx)("div",{className:"profile-setup-image__wrapper",children:Object(g.jsx)(j.a,{size:"xl",src:w,children:Object(g.jsx)(j.b,{border:"none",boxSize:"1.2em",children:Object(g.jsx)(l.a,{as:b.d})})})})}),s.status&&Object(g.jsx)(c.i,{color:"red.500",fontSize:"12px",children:s.errorText})]}),Object(g.jsx)(o.a,{placeholder:"First name",size:"md",my:"12px",value:E,isRequired:!0,onChange:function(e){return T(e.target.value)}}),Object(g.jsx)(o.a,{placeholder:"Last name",size:"md",my:"12px",value:N,isRequired:!0,onChange:function(e){return k(e.target.value)}}),Object(g.jsxs)(i.a,{id:"bioInput",children:[Object(g.jsx)(i.b,{htmlFor:"bioTextArea",children:"Add a bio"}),Object(g.jsx)(d.a,{id:"bioTextArea",resize:"none",rows:"6",value:A,name:"bio",isRequired:!0,maxLength:"100",onChange:function(e){return Y(e.target.value)}})]}),Object(g.jsxs)(c.h,{direction:"row",mt:"24px",p:"4px",spacing:"24px",children:[Object(g.jsx)(u.a,{type:"submit",colorScheme:"green",w:"100%",children:"Submit"}),Object(g.jsx)(u.a,{colorScheme:"blue",w:"100%",onClick:function(){""!==E&&""!==N&&""!==A?t.replace("/"):Object(f.a)(e,{success:!1,msg:"Please save the necessary details"})},children:"Skip"})]})]})})},w=function(){var e=Object(a.useState)(""),t=Object(n.a)(e,2),r=t[0],s=t[1],j=Object(a.useState)(""),l=Object(n.a)(j,2),d=l[0],b=l[1],O=Object(a.useState)(""),h=Object(n.a)(O,2),m=h[0],v=h[1],w=Object(p.c)((function(e){return e.user.userId})),S=Object(p.b)();return Object(g.jsxs)(c.j,{spacing:6,align:"stretch",className:"security-info__form",children:[Object(g.jsx)(i.a,{isRequired:!0,children:Object(g.jsxs)(c.d,{templateColumns:{base:"repeat(1,1fr)",sm:"repeat(2, 1fr)"},gap:4,children:[Object(g.jsx)(c.e,{children:Object(g.jsxs)(i.b,{htmlFor:"currentPasswordInput",children:["Enter current password:"," "]})}),Object(g.jsx)(c.e,{children:Object(g.jsx)(o.a,{id:"currentPasswordInput",type:"password",value:r,onChange:function(e){return s(e.target.value)}})})]})}),Object(g.jsx)(i.a,{isRequired:!0,children:Object(g.jsxs)(c.d,{templateColumns:{base:"repeat(1,1fr)",sm:"repeat(2, 1fr)"},gap:4,children:[Object(g.jsx)(c.e,{children:Object(g.jsxs)(i.b,{htmlFor:"newPasswordInput",children:["Enter new password:"," "]})}),Object(g.jsx)(c.e,{children:Object(g.jsx)(o.a,{id:"newPasswordInput",type:"password",value:d,onChange:function(e){return b(e.target.value)}})})]})}),Object(g.jsx)(i.a,{isRequired:!0,children:Object(g.jsxs)(c.d,{templateColumns:{base:"repeat(1,1fr)",sm:"repeat(2, 1fr)"},gap:4,children:[Object(g.jsx)(c.e,{children:Object(g.jsxs)(i.b,{htmlFor:"confirmNewPasswordInput",children:["Confirm new password:"," "]})}),Object(g.jsx)(c.e,{children:Object(g.jsx)(o.a,{id:"confirmNewPasswordInput",type:"password",onChange:function(e){return v(e.target.value)},value:m})})]})}),Object(g.jsx)(c.a,{display:"flex",justifyContent:"end",children:Object(g.jsx)(u.a,{colorScheme:"teal",width:"fit-content",onClick:function(){r.length+d.length+m.length<18?Object(f.a)(S,{msg:"Password length atleast 6"}):d===m?S(Object(x.g)(r,d,w)).then((function(){console.log("Reset"),s(""),b(""),v("")})):Object(f.a)(S,{msg:"Please confirm new password correctly."})},children:"Save changes"})})]})},S=function(){var e=Object(O.g)(),t=Object(p.c)((function(e){return e.user.userId})),r=Object(a.useState)(""),s=Object(n.a)(r,2),j=s[0],l=s[1],d=Object(p.b)();return Object(g.jsxs)("form",{className:"security-info__form",children:[Object(g.jsx)(c.a,{fontSize:{md:"24px"},marginY:"20px",children:"Delete your account :"}),Object(g.jsxs)(c.j,{spacing:6,align:"stretch",children:[Object(g.jsx)(i.a,{isRequired:!0,children:Object(g.jsxs)(c.d,{templateColumns:{base:"repeat(1,1fr)",sm:"repeat(2, 1fr)"},gap:4,children:[Object(g.jsx)(c.e,{children:Object(g.jsxs)(i.b,{htmlFor:"passwordInput",children:["Enter current password:"," "]})}),Object(g.jsx)(c.e,{children:Object(g.jsx)(o.a,{id:"passwordInput",type:"password",onChange:function(e){return l(e.target.value)}})})]})}),Object(g.jsx)(c.a,{display:"flex",justifyContent:"end",children:Object(g.jsx)(u.a,{colorScheme:"red",variant:"solid",onClick:function(r){r.preventDefault(),j.length<6?alert("Password should be atleast 6 chars long"):d(Object(x.a)(j,t)).then((function(){e.push("/")}))},children:"Delete Account"})})]})]})};var y=function(){return Object(g.jsxs)(c.c,{maxW:"lg",children:[Object(g.jsx)(c.b,{children:Object(g.jsx)(c.g,{as:"h3",children:"Security"})}),Object(g.jsxs)(c.a,{fontSize:{md:"24px"},marginY:"20px",children:["Update your password:"," "]}),Object(g.jsx)(c.a,{as:"form",children:Object(g.jsx)(w,{})}),Object(g.jsx)(S,{})]})};t.default=function(){return Object(g.jsx)(c.c,{maxWidth:"600px",children:Object(g.jsxs)(s.e,{isFitted:!0,variant:"enclosed",children:[Object(g.jsxs)(s.b,{mb:"1em",children:[Object(g.jsx)(s.a,{children:"Basic Information"}),Object(g.jsx)(s.a,{children:"Security"})]}),Object(g.jsxs)(s.d,{children:[Object(g.jsx)(s.c,{children:Object(g.jsx)(v,{})}),Object(g.jsx)(s.c,{children:Object(g.jsx)(y,{})})]})]})})}}}]);
//# sourceMappingURL=16.20739930.chunk.js.map